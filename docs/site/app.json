[{"name":"app.R","content":"library(shiny)\r\nlibrary(shinydashboard)\r\n\r\nui <- dashboardPage(\r\n  skin = \"black\",\r\n  dashboardHeader(title = \"Contenido\"),\r\n  \r\n  dashboardSidebar(\r\n    sidebarMenu(\r\n      menuItem(\"Datos generales\", tabName = \"datos\", icon = icon(\"info-circle\")),\r\n      menuItem(\"Ecuación\", tabName = \"ecuacion_conf\", icon = icon(\"flask\")),\r\n      menuItem(\"Calculadora\", tabName = \"calculadora_aviso\", icon = icon(\"calculator\"))\r\n    )\r\n  ),\r\n  \r\n  dashboardBody(\r\n    withMathJax(),\r\n    tabItems(\r\n      \r\n      # Sección: Datos generales\r\n      tabItem(tabName = \"datos\",\r\n              h2(\"Estimacion de sexo en la cuarta costilla (cuantitativo)\"),\r\n              h3(\"Datos generales\"),\r\n              p(\"Esta calculadora se basa en los resultados del siguiente estudio:\"),\r\n              strong(\"Artículo:\"),\r\n              p(\"Muñoz, A., Maestro, N., Benito, M., Sánchez, J., Márquez-Grant, N., Trejo, D., Ríos, L. 2018. Sex and age at death estimation from the sternal end of the fourth rib. Does Iscan's method really work?\",\r\n                em(\"Legal Medicine\"), \", 31, pp. 24-29\"),\r\n              strong(\"Población de referencia:\"),\r\n              p(\"Muestra de 504 individuos adultos (60 mujeres, 444 hombres) con un rango de edad de 17 a 92 años, provenientes de la Ciudad de México.\"),\r\n              strong(\"Método:\"),\r\n              p(\"Aplicación de Análisis Discriminante en mediciones de la cuarta costilla.\")\r\n      ),\r\n      \r\n      # Sección: Ecuación y Confiabilidad\r\n      tabItem(tabName = \"ecuacion_conf\",\r\n              h3(\"Ecuación seleccionada\"),\r\n              p(\"La ecuación que presentó la mayor exactitud en el estudio fue desarrollada en la cuarta costilla, y se expresa de la siguiente forma:\"),\r\n              helpText(\"$$Sexo = 0.477 \\\\times SIH + (-0.065)$$\"),\r\n              p(\"Donde:\"),\r\n              tags$ul(\r\n                tags$li(\"SIH = Altura supero-inferior\"),\r\n              ),\r\n              br(),\r\n              img(src = \"Costilla_izquierda.jpg\", height = \"300px\"),\r\n              div(\r\n                style = \"width:500px; font-size:12px;\",\r\n                p(\r\n                  \"Medición tomada en la cuarta costilla: Altura supero-inferior (SIH). \",\r\n                  strong(\"Número de Comité de Ética de la Universidad Complutense de Madrid:\"), \" Ref:CE_20230209-06-SAL. \",\r\n                  strong(\"Elaborada por:\"), \" María García-Velasco.\"\r\n                )\r\n              ),\r\n              br(),\r\n              strong(\"Confiabilidad:\"),\r\n              br(),\r\n              strong(\"Error intra- e inter-observador:\"),\r\n              p(\"Se evaluó el error intra- e inter-observador utilizando el coeficiente de correlación intraclase (CCI), el cual mostró ausencia de ambos errores de medición (CCI > 0.98)\"),\r\n              strong(\"Exactitud:\"),\r\n              p(\"La ecuación reporta una exactitud del 88.7 % para la cuarta costilla después de la validación cruzada.\")\r\n      ),\r\n      \r\n      # Sección: Calculadora y Aviso\r\n      tabItem(tabName = \"calculadora_aviso\",\r\n              h3(\"Calculadora\"),\r\n              p(\"A continuación, introduce las medidas requeridas en milímetros:\"),\r\n              numericInput(\"numericSIH\", \"Altura supero-inferior (SIH)\", value = NULL),\r\n              br(),\r\n              h4(\"El resultado es:\"),\r\n              verbatimTextOutput(\"sexResult\"),\r\n              br(), br(),\r\n              h3(\"Aviso de responsabilidad\"),\r\n              div(\r\n                style = \"text-align:justify;\",\r\n                p(\"Esta calculadora tiene fines exclusivamente informativos y académicos.\", \r\n                  \"Se basa en datos publicados y no sustituye el juicio profesional en contextos médicos, forenses o legales.\",\r\n                  \"Los desarrolladores de esta herramienta no se hacen responsables por el uso, interpretación o consecuencias derivadas de los resultados obtenidos a través de esta calculadora.\"), \r\n              )\r\n      )\r\n    )\r\n  )\r\n)\r\n\r\n\r\nserver <- function(input, output, session) {\r\n  \r\n  current_valueSIH <- reactive(input$numericSIH)\r\n\r\n  current_valueSEX <- reactive({\r\n    req(current_valueSIH())\r\n    (0.477 * current_valueSIH()) + (- 8.214) })\r\n  \r\n  current_valueSEX2 <- reactive({\r\n    val <- current_valueSEX()\r\n    if (is.na(val)) {\r\n      \"\"\r\n    } else if (val < - 0.5325) {\r\n      \"Femenino\"\r\n    } else {\r\n      \"Masculino\"\r\n    }\r\n  })\r\n  \r\n  output$sexResult <- renderText({\r\n    current_valueSEX2()\r\n  })\r\n}\r\n\r\nshinyApp(ui, server)","type":"text"}]
